{
  "hash": "b030f3f4403abd5946a430122fc739c8",
  "result": {
    "engine": "jupyter",
    "markdown": "# Uso de Hiperparámetros\n\n## Objetivo\n\nEn este tutorial aprenderás a:\n\n- \n\n\n## Configuración inicial\n\nImportamos las librerías necesarias, cargamos la API key desde un .env y creamos el cliente de OpenAI.\n\n::: {#b596ffe9 .cell execution_count=1}\n``` {.python .cell-code}\nfrom openai import OpenAI\nimport os\nfrom IPython.display import display, Markdown\n```\n:::\n\n\n::: {#0a53621b .cell execution_count=2}\n``` {.python .cell-code}\nfrom dotenv import load_dotenv\n\nload_dotenv()\napi_key = os.getenv('OPENAI_API_KEY')\n\nclient = OpenAI(api_key=api_key)\n```\n:::\n\n\n## Temperature (float: 0-2)\n\nControla la aleatoriedad de las respuestas. Valores más altos producen respuestas más creativas y diversas.\n\n- 0.0: Respuestas consistentes y determinísticas\n- 0.5: Balance entre creatividad y consistencia\n- 1.0: Mayor creatividad y variabilidad\n- 2.0 Máxima aleatoriedad\n\n::: {#a1049db0 .cell execution_count=3}\n``` {.python .cell-code}\nprompt = 'las nubes estan algo grises verdad?'\n# Temperatura baja (0.2)\nresponse_conservador = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{\n        'role': 'user',\n        'content': prompt\n    }],\n    temperature=0.2\n)\n```\n:::\n\n\nMiramos la respuesta conservadora:\n\n::: {#9159726d .cell execution_count=4}\n``` {.python .cell-code}\ndisplay(Markdown(response_conservador.choices[0].message.content))\n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nSí, parece que las nubes están grises. Esto suele indicar que pueden estar cargadas de humedad y que podría llover pronto. ¿Estás esperando algún tipo de clima específico?\n:::\n:::\n\n\n::: {#b3868c98 .cell execution_count=5}\n``` {.python .cell-code}\n# Temperatura alta (1.8)\nresponse_creativo = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{\n        'role': 'user',\n        'content': prompt\n    }],\n    temperature=1.5\n)\n```\n:::\n\n\nMiremos ahora la respuesta creativa:\n\n::: {#9527508d .cell execution_count=6}\n``` {.python .cell-code}\ndisplay(Markdown(response_creativo.choices[0].message.content))\n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nSí, parecen estar un poco grises. A menudo, cuando las nubes son de ese color, puede ser señal de que se aproxima algo de lluvia. Pero también pueden verse así sin que necesariamente llueva. ¿Tienes planes para salir hoy?\n:::\n:::\n\n\nProbemos ahora con otro ejemplo\n\n::: {#b72c79d2 .cell execution_count=7}\n``` {.python .cell-code}\nprompt = 'Genera un eslogan para una cafeteria en la luna'\n# Temperatura baja (0.2)\nresponse_conservador = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{\n        'role': 'user',\n        'content': prompt\n    }],\n    temperature=0.2\n)\n\n# Temperatura alta (1.8)\nresponse_creativo = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{\n        'role': 'user',\n        'content': prompt\n    }],\n    temperature=1.5\n)\n```\n:::\n\n\nMiramos la respuesta conservadora:\n\n::: {#965fdb32 .cell execution_count=8}\n``` {.python .cell-code}\ndisplay(Markdown(response_conservador.choices[0].message.content))\n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n\"¡Sabor a estrellas en cada sorbo! Ven a disfrutar en nuestra cafetería lunar.\"\n:::\n:::\n\n\nMiremos ahora la respuesta creativa:\n\n::: {#992d195b .cell execution_count=9}\n``` {.python .cell-code}\ndisplay(Markdown(response_creativo.choices[0].message.content))\n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n\"¡Disfruta de cada sorbo en gravedad cero, donde el café tiene sabor a estrellas!\" 🌌☕✨\n:::\n:::\n\n\n## max_tokens\n\nDefine la longitud máxima de la respuesta en tokens. Un token equivale a 4 caracteres o 3/4 de una palabra promedio en ingles.\n\nConsideraciones:\n\n- Muy bajo (<50): Las respuestas pueden quedar incompletas\n- Medio (100-500): Ideal para respuestas generales\n- Alto (>1000): Para generación de contenido extenso\n\n::: {#8889f2b3 .cell execution_count=10}\n``` {.python .cell-code}\n# Respuesta corta\nresponse_corta = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{'role': 'user', 'content': 'Describe un atardecer'}],\n    max_tokens=50\n)\n\n# Respuesta larga\nresponse_larga = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{'role': 'user', 'content': 'Describe un atardecer'}],\n    max_tokens=200\n)\n```\n:::\n\n\nImprimimos los mensajes\n\n::: {#efb99eee .cell execution_count=11}\n``` {.python .cell-code}\nprint(response_corta.choices[0].message.content)\nprint(100*'-')\nprint(response_larga.choices[0].message.content)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nUn atardecer es un espectáculo natural que ocurre cuando el sol se oculta en el horizonte, marcando el final del día y el inicio de la noche. En este momento, el cielo se transforma en un lienzo vibrante, donde los\n----------------------------------------------------------------------------------------------------\nEl atardecer es un espectáculo natural que transforma el cielo en una paleta vibrante de colores cálidos. A medida que el sol desciende en el horizonte, sus rayos dorados iluminan las nubes, tiñéndolas de tonos anaranjados, rosas y púrpuras. El aire se vuelve más fresco y se llena de un suave murmullo, ya sea el canto de los pájaros que regresan a sus nidos o el susurro del viento entre los árboles.\n\nLas sombras se alargan y la luz comienza a desvanecerse lentamente, creando un ambiente de calma y reflexión. Los paisajes cambian, revelando siluetas más marcadas y un brillo especial en la naturaleza que invita a la contemplación. Es un momento mágico, en el que el día se despide y la noche se asoma con el promesa de un nuevo comienzo. Cada atardecer es único, lleno de matices que inv\n```\n:::\n:::\n\n\n## top_p (float: 0-1)\n\nNucleus sampling: controla la diversidad seleccionando tokens cuya probabilidad suma 'top_p'.\n\n- 0.1: Muy conservador, usa solo las palabras más probables.\n- 0.5: Balance entre diversidad y precisión.\n- 0.9: Mayor variabilidad en el vocabulario.\n\nNota: Generalmente se usa o 'temperature' o 'top_p', no ambos. Ejemplo de uso: top_p=0.9 Permite respuestas variadas pero coherentes.\n\n",
    "supporting": [
      "03_Openai_api_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}