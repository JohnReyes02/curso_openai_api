{
  "hash": "bc9e488163c074604d11fa47c11cfdae",
  "result": {
    "engine": "jupyter",
    "markdown": "# Uso de Hiperparámetros\n\n## Objetivo\n\nEn este tutorial aprenderás a:\n\n- \n\n\n## Configuración inicial\n\nImportamos las librerías necesarias, cargamos la API key desde un .env y creamos el cliente de OpenAI.\n\n::: {#a4561cd2 .cell execution_count=1}\n``` {.python .cell-code}\nfrom openai import OpenAI\nimport os\nfrom IPython.display import display, Markdown\n```\n:::\n\n\n::: {#f6c9b451 .cell execution_count=2}\n``` {.python .cell-code}\nfrom dotenv import load_dotenv\n\nload_dotenv()\napi_key = os.getenv('OPENAI_API_KEY')\n\nclient = OpenAI(api_key=api_key)\n```\n:::\n\n\n## Temperature (float: 0-2)\n\nControla la aleatoriedad de las respuestas. Valores más altos producen respuestas más creativas y diversas.\n\n- 0.0: Respuestas consistentes y determinísticas\n- 0.5: Balance entre creatividad y consistencia\n- 1.0: Mayor creatividad y variabilidad\n- 2.0 Máxima aleatoriedad\n\n::: {#ce209c1f .cell execution_count=3}\n``` {.python .cell-code}\nprompt = 'las nubes estan algo grises verdad?'\n# Temperatura baja (0.2)\nresponse_conservador = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{\n        'role': 'user',\n        'content': prompt\n    }],\n    temperature=0.2\n)\n```\n:::\n\n\nMiramos la respuesta conservadora:\n\n::: {#37d38622 .cell execution_count=4}\n``` {.python .cell-code}\ndisplay(Markdown(response_conservador.choices[0].message.content))\n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nSí, parece que las nubes están grises. Esto suele indicar que pueden estar cargadas de humedad y que podría llover pronto. ¿Estás esperando algún tipo de clima en particular?\n:::\n:::\n\n\n::: {#c609c847 .cell execution_count=5}\n``` {.python .cell-code}\n# Temperatura alta (1.8)\nresponse_creativo = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{\n        'role': 'user',\n        'content': prompt\n    }],\n    temperature=1.5\n)\n```\n:::\n\n\nMiremos ahora la respuesta creativa:\n\n::: {#af659852 .cell execution_count=6}\n``` {.python .cell-code}\ndisplay(Markdown(response_creativo.choices[0].message.content))\n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nSí, parece que las nubes están un poco grises, lo que podría indicar que podría venir lluvia o un cambio en el clima. ¿Hay alguna actividad planeada para hoy?\n:::\n:::\n\n\nProbemos ahora con otro ejemplo\n\n::: {#e3dcb840 .cell execution_count=7}\n``` {.python .cell-code}\nprompt = 'Genera un eslogan para una cafeteria en la luna'\n# Temperatura baja (0.2)\nresponse_conservador = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{\n        'role': 'user',\n        'content': prompt\n    }],\n    temperature=0.2\n)\n\n# Temperatura alta (1.8)\nresponse_creativo = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{\n        'role': 'user',\n        'content': prompt\n    }],\n    temperature=1.5\n)\n```\n:::\n\n\nMiramos la respuesta conservadora:\n\n::: {#53a8bc84 .cell execution_count=8}\n``` {.python .cell-code}\ndisplay(Markdown(response_conservador.choices[0].message.content))\n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n\"¡Sabor a otro mundo! Disfruta tu café entre estrellas en nuestra cafetería lunar.\"\n:::\n:::\n\n\nMiremos ahora la respuesta creativa:\n\n::: {#2e4362d7 .cell execution_count=9}\n``` {.python .cell-code}\ndisplay(Markdown(response_creativo.choices[0].message.content))\n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n\"Refresca tu alma, un sorbo cerca de las estrellas: Café Lunar!\" 🌌☕✨\n:::\n:::\n\n\n## max_tokens\n\nDefine la longitud máxima de la respuesta en tokens. Un token equivale a 4 caracteres o 3/4 de una palabra promedio en ingles.\n\nConsideraciones:\n\n- Muy bajo (<50): Las respuestas pueden quedar incompletas\n- Medio (100-500): Ideal para respuestas generales\n- Alto (>1000): Para generación de contenido extenso\n\n::: {#833bb12d .cell execution_count=10}\n``` {.python .cell-code}\n# Respuesta corta\nresponse_corta = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{'role': 'user', 'content': 'Describe un atardecer'}],\n    max_tokens=50\n)\n\n# Respuesta larga\nresponse_larga = client.chat.completions.create(\n    model='gpt-4o-mini',\n    messages=[{'role': 'user', 'content': 'Describe un atardecer'}],\n    max_tokens=200\n)\n```\n:::\n\n\nImprimimos los mensajes\n\n::: {#028b4e3e .cell execution_count=11}\n``` {.python .cell-code}\nprint(response_corta.choices[0].message.content)\nprint(100*'-')\nprint(response_larga.choices[0].message.content)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nUn atardecer es un espectáculo natural que se presenta cada día, cuando el sol desciende por el horizonte, pintando el cielo con una paleta de colores vibrantes. A medida que el sol se oculta, el cielo se transforma\n----------------------------------------------------------------------------------------------------\nUn atardecer es un espectáculo natural que transforma el cielo y el paisaje en un lienzo de colores. A medida que el sol comienza a descender en el horizonte, la luz se vuelve más suave y cálida, proyectando tonos de naranja, rosa, dorado y púrpura que se entrelazan en las nubes. La luz del día se va desvaneciendo, creando una atmósfera de tranquilidad y reflexión.\n\nEl aire se siente fresco, especialmente después de un día cálido. Los sonidos de la naturaleza se mezclan en un canto armonioso: el murmullo de las hojas, el canto de los pájaros que regresan a sus nidos, y en algunas ocasiones, el suave susurro del viento. Si te encuentras cerca de un cuerpo de agua, puedes ver cómo los colores del cielo se reflejan en la superficie, creando una imagen casi mágica.\n\nA medida que el sol se oculta, el cielo comienza a osc\n```\n:::\n:::\n\n\n## top_p (float: 0-1)\n\nNucleus sampling: controla la diversidad seleccionando tokens cuya probabilidad suma 'top_p'.\n\n- 0.1: Muy conservador, usa solo las palabras más probables.\n- 0.5: Balance entre diversidad y precisión.\n- 0.9: Mayor variabilidad en el vocabulario.\n\nNota: Generalmente se usa o 'temperature' o 'top_p', no ambos. Ejemplo de uso: top_p=0.9 Permite respuestas variadas pero coherentes.\n\n::: {#02c0f343 .cell execution_count=12}\n``` {.python .cell-code}\nprint('Hola')\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nHola\n```\n:::\n:::\n\n\n",
    "supporting": [
      "03_Openai_api_files"
    ],
    "filters": [],
    "includes": {}
  }
}